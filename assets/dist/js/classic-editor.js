(()=>{var e={4396:(e,t)=>{"use strict";function n(e){return e}t.L8=void 0,t.L8=function(){return n}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";n.r(r),n.d(r,{initPage:()=>z});const e=window.wp.element;function t(t,n){n&&(e.createRoot?(0,e.createRoot)(n).render(t):(0,e.render)(t,n))}const o=window.wp.components,i=window.wp.data;function a(e,t){return(0,i.subscribe)(e,t)}const u=window.wp.domReady,c=n.n(u)(),s=window.wp.url,l=window.NelioContent.components,d=window.NelioContent.editPost,f=window.NelioContent.socialMessageEditor,m=window.NelioContent.taskEditor,p=window.wp.apiFetch,v=n.n(p)(),y=window.lodash,g=window.NelioContent.data,h=window.NelioContent.utils;var b=n(4396),w=(0,b.L8)(),E=function(e){return!!e&&"function"==typeof e&&"ajaxPrefilter"in e},I=function(e){return!!e&&"object"==typeof e&&"data"in e},S=function(e){return!!e&&"object"==typeof e&&"action"in e};var k=function(){return k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},k.apply(this,arguments)},A=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},x=function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}};function P(e){return A(this,void 0,Promise,(function(){var t;return x(this,(function(n){switch(n.label){case 0:return[4,j(e.postId)];case 1:return t=n.sent(),[4,M(k(k({},t),{date:"none"!==t.date&&t.date,followers:e.attributes.followers,statistics:{engagement:{},pageviews:void 0}}))];case 2:return n.sent(),function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var n=(0,i.dispatch)(d.store),r=n.setEditorToClassic,o=n.setEditorToElementor;r(e),o(t)}(e.settings.isClassicEditor,e.settings.isElementorEditor),window.NelioContentTinyMCE={createMessage:B,getLinks:h.getLinks,isEmpty:h.isEmpty},r=e.settings.autoShareEndModes,(0,h.isEmpty)(r)||(0,(0,i.dispatch)(d.store).setAutoShareEndModes)(r),l=e.settings.shouldAuthorBeFollower,(0,(0,i.dispatch)(d.store).includeAuthorInFollowers)(l),function(e){var t=e.url,n=e.alt;t&&(0,(0,i.dispatch)(d.store).setExternalFeaturedImage)(t,n)}(e.attributes.externalFeatImage),function(e){var t=(0,i.dispatch)(d.store),n=t.receiveReferences,r=t.suggestReferences;n(e);var o=(0,y.filter)(e,{isSuggestion:!0});(0,h.isEmpty)(o)||r((0,y.map)(o,"url"))}(e.attributes.references),function(e){(0,(0,i.dispatch)(d.store).markQualityAnalysisAsFullyIntegrated)(!!e.isFullyIntegrated)}(s=e.settings.qualityAnalysis),function(e){if(!e.isYoastIntegrated){var t=(0,i.dispatch)(d.store).removeQualityCheckType;t("nelio-content/yoast-content"),t("nelio-content/yoast-seo")}}(s),function(e){var t=e.supportsFeatImage,n=e.canImageBeAutoSet;t?(0,(0,i.dispatch)(d.store).updateQualityCheckSettings)("nelio-content/featured-image",{canImageBeAutoSet:n}):(0,(0,i.dispatch)(d.store).removeQualityCheckType)("nelio-content/featured-image")}(s),(0,(0,i.select)(g.store).isMultiAuthor)()||(0,(0,i.dispatch)(d.store).removeQualityCheckType)("nelio-content/author"),function(){var e,t,n,r=(0,i.dispatch)(d.store);t=(e=r).setCustomField,n=e.removeCustomField,c((function(){var e=window.jQuery;E(e)&&e.ajaxPrefilter((function(e,r){if(I(e)&&"string"==typeof e.data&&I(r)&&S(r)){var o=new URLSearchParams(e.data);switch(r.action){case"add-meta":if(o.has("metavalue")){var i="#NONE#"===o.get("metakeyselect")?o.get("metakeyinput"):o.get("metakeyselect"),a=o.get("metavalue")||"";i&&t(w(i),a)}else{var u=Array.from(o.keys()).filter((function(e){return/meta\[\d+\]\[key\]/.test(e)})).map((function(e){return o.get(e)}))[0],c=Array.from(o.keys()).filter((function(e){return/meta\[\d+\]\[value\]/.test(e)})).map((function(e){return o.get(e)}))[0];u&&c&&t(w(u),c)}break;case"delete-meta":var s=o.get("id"),l=s?document.getElementById("meta-".concat(s,"-key")):null;(i=null==l?void 0:l.getAttribute("value"))&&n(w(i))}}}))}))}(),a((function(){var e=(0,i.select)(d.store),t=e.getDate,n=e.getStatus,r=t(),a=n();r===o&&a===u||(o=r,u=a,(0,(0,i.dispatch)(d.store).updateDatesInPostRelatedItems)())})),[2]}var r,o,u,s,l}))}))}function C(n,r){var o=document.getElementById(n);if(o){var i=o.querySelector(".inside");i&&t(e.createElement(r,null),i)}}function B(e,t){if(e=(0,y.trim)(e),!(0,h.isEmpty)(e)){var n=function(e){if((0,h.isEmpty)(e))return!1;var t=(0,i.select)(g.store).getSocialProfilesByNetwork;if((0,h.isEmpty)(t("twitter")))return!1;for(var n=(0,i.select)(d.store).getReferenceByUrl,r=0,o=e;r<o.length;r++){var a=n(o[r]);if(a&&a.twitter)return a.twitter}return!1}(t);n&&(e="".concat(e," /cc ").concat(n)),e+=" {permalink}";var r=(0,i.select)(d.store).getPost;(0,(0,i.dispatch)(f.store).openNewSocialMessageEditor)({text:e},{context:"post",post:r(),disabledProfileIds:(0,d.getDisabledProfiles)()})}}function j(e){return A(this,void 0,Promise,(function(){return x(this,(function(t){switch(t.label){case 0:return[4,v({path:"/nelio-content/v1/post/".concat(e,"?aws")})];case 1:return[2,t.sent()]}}))}))}function M(e){return A(this,void 0,void 0,(function(){var t,n;return x(this,(function(r){switch(r.label){case 0:return t=(0,i.dispatch)(d.store),n=t.loadPostItems,[4,(0,t.setPost)(e)];case 1:return r.sent(),n(),[2]}}))}))}var N=function(){return e.createElement(d.QualityAnalysis,{isMetabox:!0})};const O=window.NelioContent.date;const L=window.jQuery;var T=n.n(L);const F=window.wp.coreData;var _=(0,y.debounce)((function(e,t){var n=e.value;if(n){var r=(0,(0,i.select)(d.store).getPermalinkTemplate)();t((0,b.L8)()(r.replace("%postname%",n)))}}),500),R=function(e){return q(e)||Q(e)||[]},q=function(e){var t=document.getElementById("".concat(e,"checklist"));if(t){var n=Array.from(t.querySelectorAll('input[type="checkbox"]:checked')).map((function(e){return e.id})).map((function(t){return t.replace("in-".concat(e,"-"),"")})).map((function(e){return parseInt(e)})).filter(Boolean),r=(0,i.select)(F.store).getEntityRecord;return n.map((function(t){return r("taxonomy",e,t)})).filter(D).map((function(e){return{id:e.id,name:e.name,slug:e.slug}}))}},Q=function(e){var t,n=document.getElementById(e);if(n)return Array.from((null===(t=n.querySelector(".tagchecklist"))||void 0===t?void 0:t.children)||[]).map((function(e){var t=(0,y.filter)(Array.from(e.childNodes),{nodeType:Node.TEXT_NODE}).map((function(e){return e.textContent}));return(0,y.startCase)((0,y.trim)(t.join("")))})).map((function(e,t){return{id:(0,b.L8)()(t+1),name:e,slug:e.toLowerCase().replace(/\s+/g,"-")}}))},D=function(e){return!!e&&"object"==typeof e&&"id"in e&&"name"in e&&"slug"in e},U=function(e){var t=[],n=function(){var n=Array.from(document.querySelectorAll('.categorydiv input[type="checkbox"]'));(0,y.isEqual)(t,n)||(t.forEach((function(t){return t.removeEventListener("change",e)})),t=n,n.forEach((function(t){return t.addEventListener("change",e)})),e())};n();var r=(0,y.debounce)(n,2e3),o=new MutationObserver(r);document.querySelectorAll(".categorydiv").forEach((function(e){return o.observe(e,{childList:!0,subtree:!0})}))},G=function(e){var t=new MutationObserver(e);document.querySelectorAll(".tagsdiv").forEach((function(e){return t.observe(e,{childList:!0,subtree:!0})}))};function J(){var e,t,n,r,o,u,c,s,l,f,m=(0,i.dispatch)(d.store);n=m.setFeaturedImage,r=(0,i.select)(F.store).getEntityRecord,o=(0,i.select)(d.store).getExternalFeaturedImageUrl,u=0,c=!1,s=(0,y.debounce)((function(){var e=o();if(e){if(0===u&&c===e)return;return c=e,void n(u=0,e)}var t=document.getElementById("_thumbnail_id"),i=Number.parseInt((null==t?void 0:t.value)||""),a=(0,h.seemsMediaId)(i)?i:0,s=a?r("root","media",a):void 0,l=null==s?void 0:s.source_url,d=!!(0,h.isUrl)(l)&&l;u===a&&c===d||(u=a,c=d,n(a,d))}),500),(e=document.getElementById("postimagediv"))&&(new MutationObserver(s).observe(e,{childList:!0,subtree:!0}),a(s)),a((function(){var e=o();e!==t&&(t=e,s())})),l=m.setTitle,(f=document.getElementById("title"))&&f.addEventListener("change",(0,y.debounce)((function(){var e=f.value||"";l(e)}),500)),function(e){var t=e.setDate,n=document.querySelector("a.save-timestamp");if(n){var r={year:document.getElementById("aa"),month:document.getElementById("mm"),day:document.getElementById("jj"),hour:document.getElementById("hh"),minute:document.getElementById("mn")},o=(0,y.values)(r).filter((function(e){return!e}));(0,h.isEmpty)(o)&&n.addEventListener("click",(function(){return function(e,t){var n,r,o,i,a,u,c=null!==(r=null===(n=e.year)||void 0===n?void 0:n.value)&&void 0!==r?r:"",s=(0,y.padStart)(null===(o=e.month)||void 0===o?void 0:o.value,2,"0"),l=(0,y.padStart)(null===(i=e.day)||void 0===i?void 0:i.value,2,"0"),d=(0,y.padStart)(null===(a=e.hour)||void 0===a?void 0:a.value,2,"0"),f=(0,y.padStart)(null===(u=e.minute)||void 0===u?void 0:u.value,2,"0"),m="".concat(c,"-").concat(s,"-").concat(l),p="".concat(d,":").concat(f);t((0,O.wpifyDateTime)("c",m,p))}(r,t)}))}}(m),function(e){var t=e.setContent;T()(document).on("tinymce-editor-init",(function(e,n){n&&"content"===n.id&&function(e,t){e.on("nodechange keyup",(0,y.debounce)((function(){return t(e.getContent())}),2500))}(n,t)}))}(m),function(e){var t=e.setExcerpt,n=document.getElementById("excerpt");n&&n.addEventListener("change",(0,y.debounce)((function(){var e=n.value;e&&t(e)}),500))}(m),function(e){var t=e.setPermalink,n=document.getElementById("post_name");if(n){n.addEventListener("change",(function(){return _(n,t)}));var r=document.getElementById("edit-slug-box");r&&r.addEventListener("click",(function(e){var r=e.target;(null==r?void 0:r.closest("#edit-slug-buttons .save"))&&_(n,t)}))}}(m),function(e){var t=e.setAuthor,n=document.getElementById("post_author_override");n&&n.addEventListener("change",(function(){var e,r,o=Number.parseInt(n.value);if((0,h.seemsAuthorId)(o)){var i=null!==(r=null===(e=(n.options||[])[n.selectedIndex])||void 0===e?void 0:e.text)&&void 0!==r?r:"";t(o,i)}}))}(m),function(e){var t=e.setTerms,n=(0,i.select)(d.store).getPostType,r=(0,i.select)(F.store).getEntityRecords,o="",u=(0,y.debounce)((function(){var e=r("root","taxonomy",{per_page:-1})||[],i=(0,y.filter)(e,(function(e){var t;return e.visibility.public&&e.types.includes(null!==(t=n())&&void 0!==t?t:"")})).map((function(e){return e.slug})),a=i.map(R),u=JSON.stringify(a);u!==o&&(o=u,i.forEach((function(e,n){var r;return t(e,null!==(r=a[n])&&void 0!==r?r:[])})))}),500);a(u),U(u),G(u)}(m)}var Y=function(){return Y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Y.apply(this,arguments)},H=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},X=function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}};function z(e){return H(this,void 0,Promise,(function(){return X(this,(function(t){switch(t.label){case 0:return function(e){var t=document.getElementById("post");if(t){var n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name","nelio-content-edit-post-nonce"),n.setAttribute("value",e),t.appendChild(n);var r,o,u=document.createElement("input");u.setAttribute("type","hidden"),u.setAttribute("name","nelio-content-classic-values"),t.appendChild(u),r=function(e){u.setAttribute("value",JSON.stringify(e))},o={},a((function(){var e=(0,i.select)(d.store),t=e.getAutoShareEndMode,n=e.getAutomationSources,a=e.getExternalFeaturedImageAlt,u=e.getExternalFeaturedImageUrl,c=e.getPost,s=e.getQueryArgs,l=e.getSuggestedReferences,f=e.isAutoShareEnabled,m=c(),p=(0,d.processHtml)(m.content).highlights,v={autoShareEndMode:t(),automationSources:n(),efiAlt:a(),efiUrl:u()||"",followers:m.followers,highlights:p,isAutoShareEnabled:f(),permalinkQueryArgs:s(),suggestedReferences:l()};(0,y.isEqual)(v,o)||r(v),o=v}),d.store)}}((e=Y(Y({},e),{settings:Y(Y({},e.settings),{isClassicEditor:!0})})).settings.nonce),[4,P(e)];case 1:return t.sent(),n="nc-auto-messages",r=document.location.href,(0,s.hasQueryArg)(r,n)&&(history.replaceState(null,"",(0,s.removeQueryArgs)(r,n)),(0,(0,i.dispatch)(d.store).generateTimeline)()),C("nelio-content-quality-analysis",N),C("nelio-content-editorial-comments",d.EditorialComments),C("nelio-content-future-actions",(0,l.getPremiumComponent)("post-page/future-actions","raw/future-actions")),C("nelio-content-editorial-tasks",d.EditorialTasks),C("nelio-content-featured-image",d.ExternalFeaturedImage),C("nelio-content-notifications",d.Notifications),C("nelio-content-links",d.References),C("nelio-content-social-media",d.SocialMediaMetabox),function(e){if(e.isFullyIntegrated&&e.isYoastIntegrated){var t=function(e){e&&(e.style.display="none")};c((function(){t(document.getElementById("content-score")),t(document.getElementById("keyword-score"))}))}}(e.settings.qualityAnalysis),c(K),J(),[2]}var n,r}))}))}function K(){var n=document.createElement("div");n.classList.add("nelio-content-editor-dialogs-wrapper"),document.body.appendChild(n);var r=(0,l.getPremiumComponent)("post-page/future-action-editor","null");t(e.createElement(e.StrictMode,null,e.createElement(o.SlotFillProvider,null,e.createElement(d.ReferenceEditor,null),e.createElement(f.SocialMessageEditor,null),e.createElement(m.TaskEditor,null),e.createElement(r,null),e.createElement(l.PremiumDialog,null),e.createElement(o.Popover.Slot,null))),n)}})();var o=NelioContent="undefined"==typeof NelioContent?{}:NelioContent;for(var i in r)o[i]=r[i];r.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();