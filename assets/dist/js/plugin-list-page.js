(()=>{var e,t={7442:(e,t,n)=>{"use strict";n.r(t),n.d(t,{initPage:()=>D});const o=window.wp.element;function a(e,t){t&&(o.createRoot?(0,o.createRoot)(t).render(e):(0,o.render)(e,t))}const i=window.wp.domReady,l=n.n(i)(),r=window.wp.components,c=window.wp.apiFetch,u=n.n(c)(),s=window.wp.i18n,d=window.NelioContent.components;var v=function(){return v=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},v.apply(this,arguments)},m=function(e){var t=e.isDisabled,n=void 0!==t&&t,a=e.isSubscribed,i=p(e),l=i.isModalOpen,c=i.openModal,u=i.closeModal,m=i.mainActionLabel,f=i.isDeactivating,g=i.deactivate,b=i.cleanAndDeactivate,w=i.reason,_=i.setReason;return o.createElement("div",{className:"nelio-content-deactivation"},o.createElement(r.Button,{className:"nelio-content-deactivation__button",disabled:n,onClick:c,variant:"link"},(0,s._x)("Deactivate","command","nelio-content")),l&&o.createElement(r.Modal,{title:(0,s._x)("Nelio Content Deactivation","text","nelio-content"),isDismissible:!f,shouldCloseOnEsc:!f,shouldCloseOnClickOutside:!f,onRequestClose:u},"temporary-deactivation"===w.value?o.createElement(o.Fragment,null,o.createElement(d.RadioControl,{selected:w.value,options:x,onChange:function(e){return y(e)&&_({value:e,details:""})},disabled:f}),o.createElement("br",null)):o.createElement(o.Fragment,null,o.createElement("p",null,(0,s._x)("If you have a moment, please share why you are deactivating Nelio Content:","user","nelio-content")),o.createElement(d.RadioControl,{className:"nelio-content-deactivation__options",selected:w.value,options:h,onChange:function(e){return y(e)&&_({value:e,details:""})},extraValue:w.details,onExtraChange:function(e){return _(v(v({},w),{details:e}))},disabled:f})),a&&"temporary-deactivation"!==w.value&&o.createElement("p",{className:"nelio-content-deactivation__subscription-warning"},o.createElement(r.Dashicon,{icon:"warning"}),o.createElement("span",null,(0,s._x)("Please keep in mind your subscription to Nelio Content will remain active after removing the plugin from this site. If you want to unsubscribe from our service, you can do so from the plugin’s Account page before you deactivate the plugin.","user","nelio-content"))),o.createElement("div",{className:"nelio-content-deactivation__actions"},"temporary-deactivation"===w.value||f?o.createElement("span",null):o.createElement(r.Button,{variant:"link",disabled:f,onClick:function(){return b()}},(0,s._x)("Just Delete Data","command","nelio-content")),o.createElement(r.Button,{variant:"primary",disabled:f||"clean-stuff"===w.value,onClick:function(){return"temporary-deactivation"===w.value?g():b(w.details?"".concat(w.value,": ").concat(w.details):w.value)}},m))))},p=function(e){var t=e.cleanNonce,n=e.deactivationUrl,a=(0,o.useState)(b),i=a[0],l=a[1],r=function(){window.location.href=n},c=function(){return l(v(v({},b),{isModalOpen:!1}))},s="temporary-deactivation"===i.reason.value?f(i.isDeactivating):g(i.isDeactivating);return{isModalOpen:i.isModalOpen,openModal:function(){return l(v(v({},b),{isModalOpen:!0}))},closeModal:c,isDeactivating:i.isDeactivating,mainActionLabel:s,deactivate:function(){l(v(v({},i),{reason:b.reason,isDeactivating:!0})),r()},cleanAndDeactivate:function(e){l(v(v({},i),{isDeactivating:!0})),u({path:"/nelio-content/v1/plugin/clean",method:"POST",data:{reason:e,_nonce:t}}).then(r,c)},reason:i.reason,setReason:function(e){return l(v(v({},i),{reason:e}))}}},f=function(e){return e?(0,s._x)("Deactivating…","text","nelio-content"):(0,s._x)("Deactivate","command","nelio-content")},g=function(e){return e?(0,s._x)("Deleting Data…","text","nelio-content"):(0,s._x)("Submit and Delete Data","command","nelio-content")},b={isModalOpen:!1,isDeactivating:!1,reason:{value:"temporary-deactivation",details:""}},x=[{value:"temporary-deactivation",label:(0,s._x)("It’s a temporary deactivation","text","nelio-content")},{value:"clean-stuff",label:(0,s._x)("Delete Nelio Content’s data and deactivate plugin","text","nelio-content")}],h=[{value:"plugin-no-longer-needed",label:(0,s._x)("I no longer need the plugin","text","nelio-content")},{value:"plugin-doesnt-work",label:(0,s._x)("I couldn’t get the plugin to work","text","nelio-content"),extra:(0,s._x)("What went wrong?","text","nelio-content")},{value:"better-plugin-found",label:(0,s._x)("I found a better plugin","text","nelio-content"),extra:(0,s._x)("What’s the plugin’s name?","text","nelio-content")},{value:"other",label:(0,s._x)("Other","text","nelio-content"),extra:(0,s._x)("Please share the reason…","user","nelio-content")}],w=Object.keys({"temporary-deactivation":!0,"clean-stuff":!0,"plugin-no-longer-needed":!0,"plugin-doesnt-work":!0,"better-plugin-found":!0,other:!0}),y=function(e){return w.includes(e)};const _=window.wp.data,C=window.NelioContent.data;var O=function(){var e,t=(e=function(e){return"uninstalled"!==e(C.store).getPremiumStatus()},(0,_.useSelect)(e,undefined)),n=(0,_.useDispatch)(C.store).installPremium,a=(0,o.useState)(!1),i=a[0],l=a[1],c=t?(0,s._x)("Activate Nelio Content Premium","command","nelio-content"):(0,s._x)("Install Nelio Content Premium","command","nelio-content"),u=t?(0,s._x)("Activating Nelio Content Premium…","text","nelio-content"):(0,s._x)("Installing Nelio Content Premium…","text","nelio-content");return o.createElement(r.Button,{variant:"secondary",className:"nelio-content-install-premium-plugin",onClick:function(){l(!0),n((function(){return window.location.reload()}))},disabled:i,isBusy:i},i?u:c)};function D(e){l((function(){var t;!function(e){var t=e.isPremiumActive,n=e.isSubscribed,i=e.cleanNonce,l=e.deactivationUrl,c=document.querySelector(".nelio-content-deactivate-link");c&&a(o.createElement(r.SlotFillProvider,null,o.createElement(m,{isSubscribed:n,isDisabled:t,deactivationUrl:l,cleanNonce:i}),o.createElement(r.Popover.Slot,null)),c)}(e),(t=document.querySelector(".nelio-content-install-premium-action"))&&a(o.createElement(O,null),t)}))}}},n={};function o(e){var a=n[e];if(void 0!==a)return a.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,o),i.exports}o.m=t,e=[],o.O=(t,n,a,i)=>{if(!n){var l=1/0;for(s=0;s<e.length;s++){n=e[s][0],a=e[s][1],i=e[s][2];for(var r=!0,c=0;c<n.length;c++)(!1&i||l>=i)&&Object.keys(o.O).every((e=>o.O[e](n[c])))?n.splice(c--,1):(r=!1,i<l&&(l=i));if(r){e.splice(s--,1);var u=a();void 0!==u&&(t=u)}}return t}i=i||0;for(var s=e.length;s>0&&e[s-1][2]>i;s--)e[s]=e[s-1];e[s]=[n,a,i]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={6269:0,6376:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var a,i,l=n[0],r=n[1],c=n[2],u=0;if(l.some((t=>0!==e[t]))){for(a in r)o.o(r,a)&&(o.m[a]=r[a]);if(c)var s=c(o)}for(t&&t(n);u<l.length;u++)i=l[u],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(s)},n=self.webpackChunkNelioContent=self.webpackChunkNelioContent||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var a=o.O(void 0,[6376],(()=>o(7442)));a=o.O(a);var i=NelioContent="undefined"==typeof NelioContent?{}:NelioContent;for(var l in a)i[l]=a[l];a.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})();