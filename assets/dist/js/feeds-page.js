(()=>{var e,t={7353:(e,t,n)=>{"use strict";n.r(t),n.d(t,{initPage:()=>Ve});var r={};n.r(r),n.d(r,{areSettingsVisible:()=>N,getActiveFeed:()=>y,getAllItems:()=>I,getAllItemsInFeed:()=>A,getEditingFeedId:()=>D,getEditingFeedName:()=>k,getEditingFeedTwitter:()=>T,getFeedUrl:()=>S,getItem:()=>_,isAddingAFeed:()=>x,isDeletingAFeed:()=>P,isDeletingFeed:()=>C,isFeedLoaded:()=>F,isLoadingAFeed:()=>w,isLoadingFeed:()=>b,isSavingAFeed:()=>O});var i={};n.r(i),n.d(i,{closeEditor:()=>V,markAsAddingFeed:()=>U,markAsDeleting:()=>Q,markAsSaving:()=>H,markFeedAsLoaded:()=>j,markFeedAsLoading:()=>M,openEditor:()=>K,receiveItems:()=>R,setActiveFeed:()=>L,setEditingFeedName:()=>W,setEditingFeedTwitter:()=>q,setNewFeedUrl:()=>G,showSettings:()=>B});var o={};n.r(o),n.d(o,{addFeed:()=>ne,deleteFeed:()=>ie,loadFeedItems:()=>Z,saveFeed:()=>re});const a=window.wp.element,l=window.wp.data;function c(e,t){return(0,l.useSelect)(e,t)}const s=window.NelioContent.data,d=window.lodash,u=window.NelioContent.utils;var f={activeFeed:"all-feeds",items:{allIds:[],byId:{},byFeedId:{}},loadingFeeds:[],loadedFeeds:[]},m=function(){return m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},m.apply(this,arguments)},p=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},v={active:!1,addFeedForm:{url:"",isAddingFeed:!1},feedEditor:void 0,feedsBeingDeleted:[]},E=function(){return E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},E.apply(this,arguments)},h=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},g=(0,l.combineReducers)({feeds:function(e,t){var n;return void 0===e&&(e=f),null!==(n=function(e,t){var n;switch(t.type){case"SET_ACTIVE_FEED":return m(m({},e),{activeFeed:t.feedId});case"RECEIVE_ITEMS":var r=(0,d.map)(t.items,(function(e){return m(m({},e),{title:(0,u.decodeHtmlEntities)(e.title),excerpt:(0,u.decodeHtmlEntities)(e.excerpt),authors:(0,d.map)(e.authors,u.decodeHtmlEntities)})})),i=p(p([],(0,d.values)(e.items.byId),!0),r,!0),o=(0,d.map)((0,d.reverse)((0,d.sortBy)(i,"date")),"id"),a=(0,d.map)(e.items.byFeedId[t.feedId],(function(t){return e.items.byId[t]})),l=p(p([],(0,d.values)(a),!0),r,!0),c=(0,d.map)((0,d.reverse)((0,d.sortBy)(l,"date")),"id");return m(m({},e),{items:{allIds:(0,d.uniq)(o),byId:(0,d.keyBy)(i,"id"),byFeedId:m(m({},e.items.byFeedId),(n={},n[t.feedId]=(0,d.uniq)(c),n))}});case"MARK_FEED_AS_LOADING":return t.isLoading?m(m({},e),{loadingFeeds:(0,d.uniq)(p(p([],e.loadingFeeds,!0),[t.feedId],!1)),loadedFeeds:(0,d.without)(e.loadingFeeds,t.feedId)}):m(m({},e),{loadingFeeds:(0,d.without)(e.loadingFeeds,t.feedId)});case"MARK_FEED_AS_LOADED":return m(m({},e),{loadingFeeds:(0,d.without)(e.loadingFeeds,t.feedId),loadedFeeds:(0,d.uniq)(p(p([],e.loadedFeeds,!0),[t.feedId],!1))})}}(e,t))&&void 0!==n?n:e},settings:function(e,t){var n;return void 0===e&&(e=v),null!==(n=function(e,t){switch(t.type){case"SHOW_SETTINGS":return E(E({},e),{active:t.visible});case"SET_NEW_FEED_URL":return E(E({},e),{addFeedForm:E(E({},e.addFeedForm),{url:t.url})});case"MARK_AS_ADDING_FEED":return E(E({},e),{addFeedForm:E(E({},e.addFeedForm),{isAddingFeed:!!t.isAddingFeed})});case"OPEN_EDITOR":return E(E({},e),{feedEditor:{isSaving:!1,feedId:t.feedId,feedName:t.feedName,feedTwitter:t.feedTwitter}});case"CLOSE_EDITOR":return E(E({},e),{feedEditor:void 0});case"SET_EDITING_FEED_NAME":return e.feedEditor?E(E({},e),{feedEditor:E(E({},e.feedEditor),{feedName:t.feedName})}):e;case"SET_EDITING_FEED_TWITTER":return e.feedEditor?E(E({},e),{feedEditor:E(E({},e.feedEditor),{feedTwitter:t.feedTwitter})}):e;case"MARK_AS_SAVING":return e.feedEditor?E(E({},e),{feedEditor:E(E({},e.feedEditor),{isSaving:t.isSaving})}):e;case"MARK_AS_DELETING":return E(E({},e),{feedsBeingDeleted:t.isDeleting?(0,d.uniq)(h(h([],e.feedsBeingDeleted,!0),[t.feedId],!1)):(0,d.without)(e.feedsBeingDeleted,t.feedId)})}}(e,t))&&void 0!==n?n:e}});function y(e){return e.feeds.activeFeed||"all-feeds"}function b(e,t){return e.feeds.loadingFeeds.includes(t)}function w(e){return!(0,u.isEmpty)(e.feeds.loadingFeeds)}function F(e,t){return e.feeds.loadedFeeds.includes(t)}function _(e,t){return e.feeds.items.byId[t]}function I(e){return e.feeds.items.allIds}function A(e,t){return e.feeds.items.byFeedId[t]||[]}function N(e){return e.settings.active}function S(e){return e.settings.addFeedForm.url}function x(e){return e.settings.addFeedForm.isAddingFeed}function D(e){var t;return null===(t=e.settings.feedEditor)||void 0===t?void 0:t.feedId}function k(e){var t,n;return null!==(n=null===(t=e.settings.feedEditor)||void 0===t?void 0:t.feedName)&&void 0!==n?n:""}function T(e){var t,n;return null!==(n=null===(t=e.settings.feedEditor)||void 0===t?void 0:t.feedTwitter)&&void 0!==n?n:""}function O(e){var t;return!!(null===(t=e.settings.feedEditor)||void 0===t?void 0:t.isSaving)}function C(e,t){return e.settings.feedsBeingDeleted.includes(t)}function P(e){return!(0,u.isEmpty)(e.settings.feedsBeingDeleted)}function L(e){return{type:"SET_ACTIVE_FEED",feedId:e}}function R(e,t){return{type:"RECEIVE_ITEMS",feedId:e,items:t}}function M(e,t){return{type:"MARK_FEED_AS_LOADING",feedId:e,isLoading:t}}function j(e){return{type:"MARK_FEED_AS_LOADED",feedId:e}}function B(e){return{type:"SHOW_SETTINGS",visible:e}}function G(e){return{type:"SET_NEW_FEED_URL",url:e}}function U(e){return{type:"MARK_AS_ADDING_FEED",isAddingFeed:e}}function K(e,t){return{type:"OPEN_EDITOR",feedId:e,feedName:t.name,feedTwitter:t.twitter}}function V(){return{type:"CLOSE_EDITOR"}}function W(e){return{type:"SET_EDITING_FEED_NAME",feedName:e}}function q(e){return{type:"SET_EDITING_FEED_TWITTER",feedTwitter:e}}function H(e){return{type:"MARK_AS_SAVING",isSaving:e}}function Q(e,t){return{type:"MARK_AS_DELETING",feedId:e,isDeleting:t}}const z=window.wp.apiFetch,X=n.n(z)(),$=window.wp.url;var J=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}c((r=r.apply(e,t||[])).next())}))},Y=function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&l[0]?r.return:l[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,l[1])).done)return i;switch(r=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){o.label=l[1];break}if(6===l[0]&&o.label<i[1]){o.label=i[1],i=l;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(l);break}i[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}};function Z(e){return J(this,void 0,Promise,(function(){var t,n;return Y(this,(function(r){switch(r.label){case 0:return[4,(0,l.dispatch)(ae).markFeedAsLoading(e,!0)];case 1:r.sent(),r.label=2;case 2:return r.trys.push([2,5,,7]),[4,X({path:(0,$.addQueryArgs)("/nelio-content/v1/feeds/items",{id:e})})];case 3:return t=r.sent(),[4,(0,l.dispatch)(ae).receiveItems(e,t)];case 4:return r.sent(),[3,7];case 5:return n=r.sent(),[4,(0,u.showErrorNotice)(n)];case 6:return r.sent(),[3,7];case 7:return[4,(0,l.dispatch)(ae).markFeedAsLoading(e,!1)];case 8:return r.sent(),[4,(0,l.dispatch)(ae).markFeedAsLoaded(e)];case 9:return r.sent(),[2]}}))}))}var ee=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}c((r=r.apply(e,t||[])).next())}))},te=function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&l[0]?r.return:l[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,l[1])).done)return i;switch(r=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){o.label=l[1];break}if(6===l[0]&&o.label<i[1]){o.label=i[1],i=l;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(l);break}i[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}};function ne(e){return ee(this,void 0,Promise,(function(){var t,n;return te(this,(function(r){switch(r.label){case 0:return[4,(0,l.dispatch)(ae).markAsAddingFeed(!0)];case 1:r.sent(),r.label=2;case 2:return r.trys.push([2,7,,9]),[4,X({path:"/nelio-content/v1/feeds/",method:"POST",data:{url:e}})];case 3:return t=r.sent(),[4,(0,l.dispatch)(s.store).receiveFeeds(t)];case 4:return r.sent(),[4,(0,l.dispatch)(ae).setNewFeedUrl("")];case 5:return r.sent(),[4,(0,l.dispatch)(ae).loadFeedItems(t.id)];case 6:return r.sent(),[3,9];case 7:return n=r.sent(),[4,(0,u.showErrorNotice)(n)];case 8:return r.sent(),[3,9];case 9:return[4,(0,l.dispatch)(ae).markAsAddingFeed(!1)];case 10:return r.sent(),[2]}}))}))}function re(e,t){return ee(this,arguments,Promise,(function(e,t){var n,r,i=t.name,o=t.twitter;return te(this,(function(t){switch(t.label){case 0:return[4,(0,l.dispatch)(ae).markAsSaving(!0)];case 1:t.sent(),t.label=2;case 2:return t.trys.push([2,5,,7]),[4,X({path:"/nelio-content/v1/feeds/",method:"PUT",data:{id:e,name:i||void 0,twitter:o||void 0}})];case 3:return n=t.sent(),[4,(0,l.dispatch)(s.store).receiveFeeds(n)];case 4:return t.sent(),[3,7];case 5:return r=t.sent(),[4,(0,u.showErrorNotice)(r)];case 6:return t.sent(),[3,7];case 7:return[4,(0,l.dispatch)(ae).closeEditor()];case 8:return t.sent(),[4,(0,l.dispatch)(ae).markAsSaving(!1)];case 9:return t.sent(),[2]}}))}))}function ie(e){return ee(this,void 0,Promise,(function(){var t;return te(this,(function(n){switch(n.label){case 0:return[4,(0,l.dispatch)(ae).markAsDeleting(e,!0)];case 1:n.sent(),n.label=2;case 2:return n.trys.push([2,5,,7]),[4,X({path:(0,$.addQueryArgs)("/nelio-content/v1/feeds/",{id:e}),method:"DELETE"})];case 3:return n.sent(),[4,(0,l.dispatch)(s.store).removeFeed(e)];case 4:return n.sent(),[3,7];case 5:return t=n.sent(),[4,(0,u.showErrorNotice)(t)];case 6:return n.sent(),[3,7];case 7:return[4,(0,l.dispatch)(ae).markAsDeleting(e,!1)];case 8:return n.sent(),[2]}}))}))}var oe=function(){return oe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},oe.apply(this,arguments)},ae=(0,l.createReduxStore)("nelio-content/feeds",{reducer:g,controls:l.controls,actions:oe(oe({},i),o),selectors:r});!function(e){(0,l.register)(e)}(ae);const le=window.wp.components,ce=window.wp.i18n,se=window.NelioContent.components,de=window.NelioContent.postQuickEditor,ue=window.NelioContent.socialMessageEditor;var fe=function(){var e=(0,s.useCanManagePlugin)(),t=(0,l.useDispatch)(ae).showSettings;return e?a.createElement(le.Button,{className:"page-title-action",onClick:function(){return t(!0)}},(0,ce._x)("Manage Feeds","command","nelio-content")):null},me=function(){var e=ve(),t=pe(),n=t[0],r=t[1],i=Ee();return i.length<3?null:a.createElement("div",{className:"nelio-content-feed-filter"},a.createElement(le.SelectControl,{disabled:e,options:i,value:n,onChange:r}))},pe=function(){return[c((function(e){return e(ae).getActiveFeed()})),(0,l.useDispatch)(ae).setActiveFeed]},ve=function(){var e=pe()[0];return c((function(t){return"all-feeds"===e?t(ae).isLoadingAFeed():t(ae).isLoadingFeed(e)}))},Ee=function(){return c((function(e){return function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([{value:"all-feeds",label:(0,ce._x)("Show all feeds","command","nelio-content")}],(0,d.sortBy)((0,d.map)(e(s.store).getFeeds(),(function(e){return{value:e.id,label:e.name}})),"label"),!0)}))};const he=window.NelioContent.date;var ge=function(e){var t=e.itemId,n=c((function(e){return e(ae).getItem(t)})),r=c((function(e){var t=e(s.store).getFeed;return n?t(n.feedId):void 0})),i=ye(n,null==r?void 0:r.twitter),o=be(n),l=c((function(e){return e(s.store).canCurrentUserCreatePosts()}));if(!r||!n)return null;var d=n.title,u=n.permalink,f=n.authors,m=n.date,p=n.excerpt,v=r.icon,E=r.name,h=f.join(", ");return a.createElement("div",{className:"nelio-content-feed-list-item"},a.createElement("div",{className:"nelio-content-feed-list-item__title"},d),!!u&&a.createElement("div",{className:"nelio-content-feed-list-item__permalink"},a.createElement(le.ExternalLink,{href:u},u)),a.createElement("div",{className:"nelio-content-feed-list-item__icon"},a.createElement("div",{className:"nelio-content-feed-list-item__actual-icon",title:E,style:{backgroundColor:v&&"transparent",backgroundImage:v&&"url(".concat(v,")")}})),a.createElement("div",{className:"nelio-content-feed-list-item__meta"},h?(0,ce.sprintf)(/* translators: 1 -> author name, 2 -> date */ /* translators: 1 -> author name, 2 -> date */
(0,ce._x)("Published by %1$s on %2$s","text","nelio-content"),h,(0,he.dateI18n)((0,he.getSettings)().formats.date,m)):(0,ce.sprintf)(/* translators: date */ /* translators: date */
(0,ce._x)("Published on %s","text","nelio-content"),(0,he.dateI18n)((0,he.getSettings)().formats.date,m))),a.createElement("div",{className:"nelio-content-feed-list-item__excerpt"},p),a.createElement("div",{className:"nelio-content-feed-list-item__actions"},a.createElement(le.Button,{variant:"secondary",size:"small",onClick:i},a.createElement("span",{className:"nelio-content-feed-list-item__action-label"},a.createElement(le.Dashicon,{icon:"share"}),(0,ce._x)("Share","command","nelio-content"))),l&&a.createElement(le.Button,{variant:"secondary",size:"small",onClick:o},a.createElement("span",{className:"nelio-content-feed-list-item__action-label"},a.createElement(le.Dashicon,{icon:"edit"})," ",(0,ce._x)("Write about it","command","nelio-content")))))},ye=function(e,t){var n=c((function(e){return e(s.store).canCurrentUserCreateMessagesAlways()})),r=(0,s.useFeatureGuard)("feeds/share-post",n),i=(0,l.useDispatch)(ue.store).openNewSocialMessageEditor;return r((function(){if(e){var n=e.title,r=e.permalink,o=t?"".concat(n," /cc ").concat(t," ").concat(r):"".concat(n," ").concat(r);i({text:o,textComputed:o},{context:"feeds"})}}))},be=function(e){var t=(0,l.useDispatch)(de.store),n=t.openNewPostEditor,r=t.setExtraInfoTab,i=t.setReferences;return function(){if(e){var t=e.title,o=e.permalink;n("calendar",{title:t}),r("references"),i([{url:o,title:""}])}}},we=function(){var e=Ie(),t=_e(),n=Ae();return e?a.createElement("div",{className:"nelio-content-feed-item-list"},a.createElement(se.LoadingAnimation,null)):(0,u.isEmpty)(n)?a.createElement("div",{className:"nelio-content-feed-item-list"},t?(0,ce._x)("This feed doesn’t have any publications.","text","nelio-content"):(0,ce._x)("We couldn’t find any publications in your feeds.","text","nelio-content")):a.createElement("div",{className:"nelio-content-feed-item-list"},n.map((function(e){return a.createElement(ge,{key:e,itemId:e})})))},Fe=function(){return c((function(e){return e(ae).getActiveFeed()}))},_e=function(){return"all-feeds"!==Fe()},Ie=function(){var e=Fe();return c((function(t){return"all-feeds"===e?t(ae).isLoadingAFeed():t(ae).isLoadingFeed(e)}))},Ae=function(){var e=Fe();return c((function(t){return"all-feeds"===e?t(ae).getAllItems():t(ae).getAllItemsInFeed(e)}))},Ne=function(){return a.createElement("div",{className:"nelio-content-feeds"},a.createElement(a.StrictMode,null,a.createElement(le.SlotFillProvider,null,a.createElement("div",{className:"nelio-content-feeds__title"},a.createElement("h1",{className:"nelio-content-feeds__actual-title wp-heading-inline"},(0,ce._x)("Feeds","text","nelio-content"),a.createElement(fe,null)),a.createElement(me,null)),a.createElement(we,null),a.createElement(de.PostQuickEditor,{context:["calendar","content-board"]}),a.createElement(ue.SocialMessageEditor,null),a.createElement(se.PremiumDialog,null),a.createElement(le.Popover.Slot,null))))},Se=n(6942),xe=n.n(Se),De=function(e){var t=e.feedId,n=c((function(e){return e(s.store).getFeed(t)})),r=c((function(e){return e(ae).isAddingAFeed()})),i=c((function(e){return e(ae).isDeletingFeed(t)})),o=(0,l.useDispatch)(ae),d=o.openEditor,u=o.deleteFeed;if(!n)return null;var f=null!=n?n:{},m=f.name,p=void 0===m?"":m,v=f.url,E=f.icon,h=f.twitter,g=void 0===h?"":h;return a.createElement("div",{className:xe()({"nelio-content-feed":!0,"nelio-content-feed--is-deleting":i})},a.createElement("div",{className:"nelio-content-feed__name"},p),a.createElement("div",{className:"nelio-content-feed__url"},i?a.createElement("span",null,v):a.createElement(le.ExternalLink,{href:v},v)),!!g&&a.createElement("div",{className:"nelio-content-feed__twitter"},"X (Twitter): ",i?a.createElement("span",null,g.substring(1)):a.createElement(le.ExternalLink,{href:"https://twitter.com/".concat(g.substring(1))},g.substring(1))),a.createElement("div",{className:"nelio-content-feed__icon"},a.createElement("div",{className:"nelio-content-feed__actual-icon",style:{backgroundColor:E?"transparent":void 0,backgroundImage:E?"url(".concat(E,")"):void 0}})),i?a.createElement("div",{className:"nelio-content-feed__feedback"},a.createElement(se.DeleteButton,{isDeleting:!0,onClick:function(){}})):a.createElement("div",{className:"nelio-content-feed__actions"},a.createElement(le.Button,{variant:"link",disabled:r,onClick:function(){return d(t,{name:p,twitter:g})}},(0,ce._x)("Edit","command","nelio-content"))," | ",a.createElement(se.DeleteButton,{onClick:function(){return u(t)},disabled:r})))},ke=function(){var e=c((function(e){return e(s.store).getFeedIds()}));return(0,u.isEmpty)(e)?a.createElement("div",{className:"nelio-content-empty-feed-list"},(0,ce._x)("Add your first RSS feed using the form above","user","nelio-content")):a.createElement("div",{className:"nelio-content-feed-list"},e.map((function(e){return a.createElement(De,{key:e,feedId:e})})))},Te=function(){var e=Oe(),t=e[0],n=e[1],r=Ce(),i=r[0],o=r[1],l=(0,u.isUrl)((0,d.trim)(t));return a.createElement("div",{className:"nelio-content-new-feed-form"},a.createElement(le.TextControl,{className:"nelio-content-new-feed-form__input-text",value:t,onChange:n,disabled:i,placeholder:(0,ce._x)("Write the URL of an RSS feed…","user","nelio-content")}),a.createElement(le.Button,{className:"nelio-content-new-feed-form__add-button",variant:"primary",isBusy:i,onClick:o,disabled:i||!l},i?(0,ce._x)("Adding…","text","nelio-content"):(0,ce._x)("Add","command","nelio-content")))},Oe=function(){return[c((function(e){return e(ae).getFeedUrl()})),(0,l.useDispatch)(ae).setNewFeedUrl]},Ce=function(){var e=c((function(e){return e(ae).isAddingAFeed()})),t=Oe()[0],n=(0,l.useDispatch)(ae).addFeed;return[e,function(){return e=void 0,r=void 0,o=function(){var e;return function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&l[0]?r.return:l[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,l[1])).done)return i;switch(r=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){o.label=l[1];break}if(6===l[0]&&o.label<i[1]){o.label=i[1],i=l;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(l);break}i[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}(this,(function(r){return e=(0,d.trim)(t),(0,u.isUrl)(e)?[2,n(e)]:[2]}))},new((i=Promise)||(i=Promise))((function(t,n){function a(e){try{c(o.next(e))}catch(e){n(e)}}function l(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,l)}c((o=o.apply(e,r||[])).next())}));var e,r,i,o}]},Pe=function(){var e=Le(),t=e[0],n=e[1],r=Re(),i=r[0],o=r[1],c=Me(),s=c[0],f=c[1],m=je(),p=Be(),v=(0,l.useDispatch)(ae).closeEditor;if(!m)return null;var E=function(e,t){return(0,u.isEmpty)((0,d.trim)(e))?(0,ce._x)("Feed title is missing","text","nelio-content"):(0,u.isValidTwitterHandler)(t)?"":(0,ce._x)("Invalid twitter handler","text","nelio-content")}(t,i);return a.createElement(le.Modal,{title:(0,ce._x)("Edit Feed","text","nelio-content"),className:"nelio-content-edit-feed-modal",isDismissible:!s,shouldCloseOnEsc:!s,shouldCloseOnClickOutside:!s,onRequestClose:function(){return!s&&v()}},a.createElement(le.TextControl,{required:!0,label:(0,ce._x)("Title","text","nelio-content"),disabled:s,value:t,onChange:n,placeholder:(0,ce._x)("Name this feed…","user","nelio-content")}),a.createElement(le.TextControl,{label:(0,ce._x)("X Handler","text","nelio-content"),disabled:s,value:i,onChange:o,placeholder:(0,ce._x)("@username","text","nelio-content")}),a.createElement("div",{className:"nelio-content-edit-feed-modal__actions"},a.createElement(se.SaveButton,{variant:"primary",isUpdate:!0,isSaving:s,disabled:!p,error:E,onClick:f})))},Le=function(){return[c((function(e){return e(ae).getEditingFeedName()})),(0,l.useDispatch)(ae).setEditingFeedName]},Re=function(){return[c((function(e){return e(ae).getEditingFeedTwitter()})),(0,l.useDispatch)(ae).setEditingFeedTwitter]},Me=function(){var e=Ge(),t=Le()[0],n=Re()[0],r=c((function(e){return e(ae).isSavingAFeed()})),i=(0,l.useDispatch)(ae).saveFeed;return[r,function(){return r=void 0,o=void 0,l=function(){return function(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&l[0]?r.return:l[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,l[1])).done)return i;switch(r=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){o.label=l[1];break}if(6===l[0]&&o.label<i[1]){o.label=i[1],i=l;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(l);break}i[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}(this,(function(r){return[2,e?i(e,{name:t,twitter:n}):void 0]}))},new((a=void 0)||(a=Promise))((function(e,t){function n(e){try{c(l.next(e))}catch(e){t(e)}}function i(e){try{c(l.throw(e))}catch(e){t(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof a?r:new a((function(e){e(r)}))).then(n,i)}c((l=l.apply(r,o||[])).next())}));var r,o,a,l}]},je=function(){return!!Ge()},Be=function(){var e=Le()[0],t=Re()[0],n=Ge(),r=c((function(e){var t=e(s.store).getFeed;return n?t(n):void 0})),i=(null==r?void 0:r.name)||"",o=(null==r?void 0:r.twitter)||"";return e!==i||t!==o},Ge=function(){return c((function(e){return e(ae).getEditingFeedId()}))},Ue=function(){var e=c((function(e){return!!e(s.store).getFeeds().length})),t=(0,l.useDispatch)(ae).showSettings;return a.createElement("div",{className:"nelio-content-feed-settings-layout"},a.createElement(a.StrictMode,null,a.createElement(le.SlotFillProvider,null,a.createElement("h1",{className:"wp-heading-inline"},(0,ce._x)("Feeds","text","nelio-content"),e&&a.createElement(le.Button,{className:"page-title-action",onClick:function(){return t(!1)}},(0,ce._x)("Show Feeds","command","nelio-content"))),a.createElement(Te,null),a.createElement(ke,null),a.createElement(Pe,null),a.createElement(le.Popover.Slot,null))))},Ke=function(){var e=c((function(e){return[e(ae).areSettingsVisible(),!!e(s.store).getFeeds().length]})),t=e[0],n=e[1],r=(0,l.useDispatch)(ae).showSettings;return(0,a.useEffect)((function(){r(!n)}),[]),t?a.createElement(Ue,null):a.createElement(Ne,null)};function Ve(e){var t,n;t=(0,l.select)(s.store).getFeedIds,n=(0,l.dispatch)(ae).loadFeedItems,t().forEach((function(e){n(e)}));var r,i,o=document.getElementById(e);r=a.createElement(Ke,null),(i=o)&&(a.createRoot?(0,a.createRoot)(i).render(r):(0,a.render)(r,i))}},6942:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,o(n)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.m=t,e=[],r.O=(t,n,i,o)=>{if(!n){var a=1/0;for(d=0;d<e.length;d++){n=e[d][0],i=e[d][1],o=e[d][2];for(var l=!0,c=0;c<n.length;c++)(!1&o||a>=o)&&Object.keys(r.O).every((e=>r.O[e](n[c])))?n.splice(c--,1):(l=!1,o<a&&(a=o));if(l){e.splice(d--,1);var s=i();void 0!==s&&(t=s)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[n,i,o]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={2586:0,7695:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var i,o,a=n[0],l=n[1],c=n[2],s=0;if(a.some((t=>0!==e[t]))){for(i in l)r.o(l,i)&&(r.m[i]=l[i]);if(c)var d=c(r)}for(t&&t(n);s<a.length;s++)o=a[s],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(d)},n=self.webpackChunkNelioContent=self.webpackChunkNelioContent||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i=r.O(void 0,[7695],(()=>r(7353)));i=r.O(i);var o=NelioContent="undefined"==typeof NelioContent?{}:NelioContent;for(var a in i)o[a]=i[a];i.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();